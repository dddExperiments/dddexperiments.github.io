<!DOCTYPE html>
<html>
	<head>
		<title>Photosynth.PS2AnnotationEditor</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<meta charset="utf-8">

		<script type="text/javascript" src="js/getUrlParams.js"></script>
		<script type="text/javascript">var _useCompileJS = getUrlParams().compiled === "1";</script>
		<script type="text/javascript" src="js/embedScripts.js"></script>

		<link rel="stylesheet" href="css/doc.css">

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
	</head>
	<body>

		<div id="page-container">

			<h1>PS2AnnotationEditor</h1>

			<p>This is the main class used to create/edit annotations (highlights). It need to be used with a PS2Viewer and PS2AnnotationViewer.</p>
			<br />

			<h2>Constructor</h2>
			<table class="sdk-description">
				<tr>
					<th>Name</th>
					<th>Definition</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>PS2AnnotationEditor</td>
					<td>PS2AnnotationEditor(<a href="doc-ps2viewer.html">PS2Viewer</a>, <a href="doc-ps2annotationviewer.html">PS2AnnotationViewer</a>, containerElement:node)</td>
					<td>Initialize a new instance of the PS2AnnotationEditor class.</td>
				</tr>
			</table>

			<h2>Methods</h2>

			<table class="sdk-description">
				<tr>
					<th>Name</th>
					<th>Return value</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>addEventListener(eventName, callback)</td>
					<td>None</td>
					<td>Register the provided callback to the specified event.</td>
				</tr>
				<tr>
					<td>dispose()</td>
					<td>None</td>
					<td>Deletes the editor object and releases any associated resources. <strong>(TODO: implement this)</strong></td>
				</tr>
				<tr>
					<td>getInternal()</td>
					<td>PS.Packet.Annotation.Editor</td>
					<td>Return the internal PS.Packet.Annotation.Editor object (use with caution!).</td>
				</tr>
				<tr>
					<td>removeEventListener(eventName, callback)</td>
					<td>None</td>
					<td>Remove the callback previously registered with addEventListener.</td>
				</tr>
			</table>

			<h2>Events</h2>

			<table class="sdk-description">
				<tr>
					<th>Name</th>
					<th>Arguments</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>annotation-created</td>
					<td>Annotation, thumbInfo, callback</td>
					<td>Occurs when an annotation is created. <br />You need to fire the callback: <em>callback(isSaved, dbid)</em>.<br />First argument is true when the annotation was successfully saved in the storage. And the second argument is the databased unique ID of the annotation in the storage.</td>
				</tr>
				<tr>
					<td>annotation-edited</td>
					<td>Annotation, thumbInfo, callback</td>
					<td>Occurs when an annotation is edited. (parameter are identical as annotation-created event).</td>
				</tr>
				<tr>
					<td>annotation-delete</td>
					<td>Annotation, callback</td>
					<td>Occurs when an annotation is about to be deleted. <br />You need to fire the callback: <em>callback(needToBeDeleted)</em>.<br />First argument is a boolean indicating if the annotation needs to be deleted (result of confirm dialog box).</td>
				</tr>
				<tr>
					<td>cancel</td>
					<td>None</td>
					<td>Occurs when the user cancel.</td>
				</tr>
				<tr>
					<td>synth-connection-requested</td>
					<td>request, dbid</td>
					<td>Experimental.</td>
				</tr>
				<tr>
					<td>visibility-change</td>
					<td>visible</td>
					<td>Internal usage. Inform whether the editor is visible or not.</td>
				</tr>
			</table>

			<h2>Example</h2>
			<h3>Minimal setup:</h3>
			<pre class="brush: js">
			<code class="js">
var _container = document.getElementById("viewer-container");

var _viewer = new Photosynth.PS2Viewer(_container, {
	pathToWorker: "js/PS2PacketPlayer.worker.min.js"
});
_viewer.loadGuid("676195e2-64ca-43f5-80ba-a7cb7b10e3aa");

//TODO: add code snipet... (you can check the code in ps-player-sdk-highlight.html)

			</code>
			</pre>



		</div>
		<script>
		hljs.initHighlightingOnLoad();
		</script>
	</body>
</html>
